<odoo>
  <record id="view_picking_product_select_wizard_form" model="ir.ui.view">
    <field name="name">picking.product.select.wizard.form</field>
    <field name="model">picking.product.select.wizard</field>
    <field name="arch" type="xml">
      <form string="Seleccionar Productos">
        <group>
          <field name="picking_id" readonly="1"/>
          <field name="product_ids" />
        </group>
        <footer>
          <button string="Imprimir Reporte"
                  type="object"
                  name="action_print_selected_products"
                  class="btn-primary"/>
          <button string="Cancelar" class="btn-secondary" special="cancel"/>
        </footer>
      </form>
    </field>
  </record>

    <record id="action_report_selected_products" model="ir.actions.report">
        <field name="name">Reporte</field>
        <field name="model">picking.product.select.wizard</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">custom_stock_selection_report.report_selected_products_template</field>
        <field name="report_file">custom_stock_selection_report.report_selected_products_template</field>
        <field name="print_report_name">'Productos Seleccionados'</field>
    </record>

<template id="report_selected_products_template">
  <t t-call="web.html_container">
    <t t-call="web.external_layout">
      <h2 class="text-center">
        Productos Seleccionados del Picking: 
        <t t-esc="docs.picking_id.name"/>
      </h2>
      <ul>
        <t t-foreach="docs.product_ids" t-as="prod">
          <li>
            <t t-esc="prod.display_name"/>
          </li>
        </t>
      </ul>
    </t>
  </t>
</template>



</odoo>
